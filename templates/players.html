{% extends "base.html" %}
<!-- template has js/ajax, calls api to search, in the end calls /players PUT endpoint with player and team ids -->
{% block title %}Players{% endblock %}

{% block navbar %}
<a class="nav-link" href="/">Matches Dashboard</a>
<a class="nav-link active" aria-current="page" href="/players">Add & Remove Players</a>
{% endblock %}

{% block content %}
<ul id="players-list" class="list-group">
    {% for player in players %}
    <li id="player-id-{{ player.id }}" class="list-group-item d-flex justify-content-between align-items-start">
        <img src="{{ player.photo }}" class="img-thumbnail img-fluid" style="max-height: 6rem;">
        <div class="ms-2 me-auto" style="max-height: 6rem;">
            <div class="fw-bold">{{ player.name }}</div>
            {{ player.team_name }}
        </div>
        <button type="button" class="btn btn-outline-primary" style="max-height: 6rem;"
                onclick="sendRequest('DELETE', '/players/'+{{ player.id }}, null, afterRemovePlayer)">Remove</button>
    </li>
    {% endfor %}
</ul>
<br>
<button type="button" class="btn btn-primary ms-3" onclick="showSearchSection()">Add a Player</button>
<form id="search-form" onsubmit="searchForPlayer(this)" style="display: none;">
  <label for="team-to-add" class="form-label">What's the player's team?</label>
  <input class="form-control" list="teams" name="team-to-add" id="team-to-add">
  <datalist id="teams">
<!--<option value="1">Liverpool</option> -->
  </datalist>
  <input class="form-control" type="text" id="player-to-add">
  <input type="submit">
</form>
<form id="confirm-choice-form">
    <!-- a simple select from finite options form and submit-->
</form>
{% endblock %}